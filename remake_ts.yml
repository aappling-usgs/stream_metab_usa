packages:
  - yaml
  - dplyr
  - XML
  - geoknife
  - sbtools
  - mda.streams
  
## All R files that are used must be listed here:
sources:
  - p1_import/code/02_add_ts_data.R
  - p1_import/code/00_init_nwis_sites.R
  - p1_import/code/00_load_internals.R

targets:
  all:
    depends: 
      ##- sb_baro_nldas
      ##- sb_sw_nldas
      - sb_doobs_nwis
  
  ts.config:
    command: yaml.load_file("configs/nldas_ts.yml")
  
  sites.config:
    command: yaml.load_file("configs/nwis_sites.yml")
  
  sites:
    command: init_site_list(sites.config)
    
  doobs_nwis:
    command: stage_ts(target_name, ts.config, sites)
  
  sb_doobs_nwis:
    command: sb_post_ts(doobs_nwis, ts.config, sites)

  ##baro_nldas:
  ##  command: stage_ts(target_name, ts.config, sites)
    
  ##sw_nldas:
  ##  command: stage_ts(target_name, ts.config, sites)
    
  ##sb_baro_nldas:
  ##  command: sb_post_ts(baro_nldas, ts.config, sites)
     
  ##sb_sw_nldas:
  ##  command: sb_post_ts(sw_nldas, ts.config, sites)
  

